---

title: Working memory task


keywords: fastai
sidebar: home_sidebar



nb_path: "notebooks/03_gbe.wm.data_provider.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: notebooks/03_gbe.wm.data_provider.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">%</span><span class="k">load_ext</span> autoreload
<span class="o">%</span><span class="k">autoreload</span> 2
<span class="kn">from</span> <span class="nn">IPython.display</span> <span class="kn">import</span> <span class="n">Video</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Getting-the-data">Getting the data<a class="anchor-link" href="#Getting-the-data"> </a></h2>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="WMDataProvider" class="doc_header"><code>class</code> <code>WMDataProvider</code><a href="https://github.com/hgzech/trr265/tree/master/trr265/gbe/wm/data_provider.py#L17" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>WMDataProvider</code>(<strong><code>data_folder_path</code></strong>) :: <a href="/trr265/gbe.data_provider.html#GBEProvider"><code>GBEProvider</code></a></p>
</blockquote>
<p>This class builds upon GBEProvider to get the working memory task data.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">dp</span> <span class="o">=</span> <span class="n">WMDataProvider</span><span class="p">(</span><span class="s1">&#39;/Users/hilmarzech/Projects/trr265/trr265/data/&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Parsing-output-strings">Parsing output strings<a class="anchor-link" href="#Parsing-output-strings"> </a></h3>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="WMDataProvider.decode_wm_strings" class="doc_header"><code>WMDataProvider.decode_wm_strings</code><a href="https://github.com/hgzech/trr265/tree/master/trr265/gbe/wm/data_provider.py#L23" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>WMDataProvider.decode_wm_strings</code>(<strong><code>gbe_data</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">gbe_data</span> <span class="o">=</span> <span class="n">dp</span><span class="o">.</span><span class="n">get_gbe_data</span><span class="p">()</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">dp</span><span class="o">.</span><span class="n">decode_wm_strings</span><span class="p">(</span><span class="n">gbe_data</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<blockquote><p>The raw data gives us trial ids.  However, the different trial types (no distractor, encoding distractor, delayed distractor) and levels (2 to 10) are not yet shown.</p>
</blockquote>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span><span class="p">[[</span><span class="s1">&#39;gbe_index&#39;</span><span class="p">,</span><span class="s1">&#39;trial_number&#39;</span><span class="p">,</span><span class="s1">&#39;timestarted&#39;</span><span class="p">,</span><span class="s1">&#39;timesubmitted&#39;</span><span class="p">,</span><span class="s1">&#39;timetaken&#39;</span><span class="p">,</span><span class="s1">&#39;trialid&#39;</span><span class="p">,</span><span class="s1">&#39;trialrot&#39;</span><span class="p">,</span><span class="s1">&#39;success&#39;</span><span class="p">]]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>gbe_index</th>
      <th>trial_number</th>
      <th>timestarted</th>
      <th>timesubmitted</th>
      <th>timetaken</th>
      <th>trialid</th>
      <th>trialrot</th>
      <th>success</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>b001_001</td>
      <td>1</td>
      <td>2020-02-24 20:48:52.812</td>
      <td>2020-02-24 20:52:50.167</td>
      <td>1.506</td>
      <td>420</td>
      <td>1</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1</th>
      <td>b001_001</td>
      <td>2</td>
      <td>2020-02-24 20:48:52.812</td>
      <td>2020-02-24 20:52:50.167</td>
      <td>1.471</td>
      <td>379</td>
      <td>1</td>
      <td>1</td>
    </tr>
    <tr>
      <th>2</th>
      <td>b001_001</td>
      <td>3</td>
      <td>2020-02-24 20:48:52.812</td>
      <td>2020-02-24 20:52:50.167</td>
      <td>1.154</td>
      <td>343</td>
      <td>1</td>
      <td>1</td>
    </tr>
    <tr>
      <th>3</th>
      <td>b001_001</td>
      <td>4</td>
      <td>2020-02-24 20:48:52.812</td>
      <td>2020-02-24 20:52:50.167</td>
      <td>2.004</td>
      <td>463</td>
      <td>0</td>
      <td>1</td>
    </tr>
    <tr>
      <th>4</th>
      <td>b001_001</td>
      <td>5</td>
      <td>2020-02-24 20:48:52.812</td>
      <td>2020-02-24 20:52:50.167</td>
      <td>1.589</td>
      <td>616</td>
      <td>3</td>
      <td>1</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>82226</th>
      <td>m271_010</td>
      <td>28</td>
      <td>2021-07-21 10:25:34.373</td>
      <td>2021-07-21 10:29:45.451</td>
      <td>0.613</td>
      <td>1646</td>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>82227</th>
      <td>m271_010</td>
      <td>29</td>
      <td>2021-07-21 10:25:34.373</td>
      <td>2021-07-21 10:29:45.451</td>
      <td>2.297</td>
      <td>2499</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>82228</th>
      <td>m271_010</td>
      <td>30</td>
      <td>2021-07-21 10:25:34.373</td>
      <td>2021-07-21 10:29:45.451</td>
      <td>2.573</td>
      <td>1644</td>
      <td>3</td>
      <td>0</td>
    </tr>
    <tr>
      <th>82229</th>
      <td>m271_010</td>
      <td>31</td>
      <td>2021-07-21 10:25:34.373</td>
      <td>2021-07-21 10:29:45.451</td>
      <td>3.638</td>
      <td>2586</td>
      <td>2</td>
      <td>1</td>
    </tr>
    <tr>
      <th>82230</th>
      <td>m271_010</td>
      <td>32</td>
      <td>2021-07-21 10:25:34.373</td>
      <td>2021-07-21 10:29:45.451</td>
      <td>4.089</td>
      <td>2146</td>
      <td>0</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
<p>82231 rows × 8 columns</p>
</div>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Adding-trial-types-and-levels">Adding trial types and levels<a class="anchor-link" href="#Adding-trial-types-and-levels"> </a></h3><blockquote><p>Here, werial types based on the app specifications.  We also double check that everything was specified correctly, by comparing the trial types with the app resources. add the t</p>
</blockquote>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="DataProvider.get_wm_trial_types" class="doc_header"><code>DataProvider.get_wm_trial_types</code><a href="https://github.com/hgzech/trr265/tree/master/trr265/data_provider.py#L30" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>DataProvider.get_wm_trial_types</code>()</p>
</blockquote>
<p>This checks that each trial type follows the appropriate specifications.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<blockquote><p>Checking if each trial type is specified correctly:</p>
</blockquote>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">type_df</span> <span class="o">=</span> <span class="n">dp</span><span class="o">.</span><span class="n">get_wm_trial_types</span><span class="p">()</span>
<span class="n">type_df</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;trial_type&#39;</span><span class="p">])[[</span><span class="s1">&#39;has_distractor&#39;</span><span class="p">,</span><span class="s1">&#39;is_delayed&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">bool</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>has_distractor</th>
      <th>is_delayed</th>
    </tr>
    <tr>
      <th>trial_type</th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>4</th>
      <td>False</td>
      <td>True</td>
    </tr>
    <tr>
      <th>5</th>
      <td>True</td>
      <td>True</td>
    </tr>
    <tr>
      <th>delayed_distractor</th>
      <td>True</td>
      <td>True</td>
    </tr>
    <tr>
      <th>encoding_distractor</th>
      <td>True</td>
      <td>False</td>
    </tr>
    <tr>
      <th>no_distractor_1</th>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>no_distractor_2</th>
      <td>False</td>
      <td>False</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<blockquote><p>Adding trial types and levels to dataframe.</p>
</blockquote>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="WMDataProvider.add_trial_types" class="doc_header"><code>WMDataProvider.add_trial_types</code><a href="https://github.com/hgzech/trr265/tree/master/trr265/gbe/wm/data_provider.py#L84" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>WMDataProvider.add_trial_types</code>(<strong><code>df</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">dp</span><span class="o">.</span><span class="n">add_trial_types</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Checking-trial-types-in-dataset">Checking trial types in dataset<a class="anchor-link" href="#Checking-trial-types-in-dataset"> </a></h4>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">trial_type</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>no_distractor_1        20554
encoding_distractor    20510
no_distractor_2        20493
delayed_distractor     20284
5                        195
4                        195
Name: trial_type, dtype: int64</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>{% include warning.html content='Note that some participants completed old versions of the task (as some trials were associated with trial types 4 and 5).' %}</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Getting-the-data">Getting the data<a class="anchor-link" href="#Getting-the-data"> </a></h3>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="DataProvider.get_wm_data" class="doc_header"><code>DataProvider.get_wm_data</code><a href="https://github.com/hgzech/trr265/tree/master/trr265/data_provider.py#L94" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>DataProvider.get_wm_data</code>()</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">dp</span><span class="o">.</span><span class="n">get_wm_data</span><span class="p">()</span>
<span class="n">df</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>gbe_index</th>
      <th>trial_number</th>
      <th>score</th>
      <th>timestarted</th>
      <th>timesubmitted</th>
      <th>success</th>
      <th>timetaken</th>
      <th>trialid</th>
      <th>trialrot</th>
      <th>trial_type</th>
      <th>level</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>b001_001</td>
      <td>1</td>
      <td>600</td>
      <td>2020-02-24 20:48:52.812</td>
      <td>2020-02-24 20:52:50.167</td>
      <td>1</td>
      <td>1.506</td>
      <td>420</td>
      <td>1</td>
      <td>delayed_distractor</td>
      <td>3</td>
    </tr>
    <tr>
      <th>1</th>
      <td>b001_001</td>
      <td>2</td>
      <td>600</td>
      <td>2020-02-24 20:48:52.812</td>
      <td>2020-02-24 20:52:50.167</td>
      <td>1</td>
      <td>1.471</td>
      <td>379</td>
      <td>1</td>
      <td>encoding_distractor</td>
      <td>3</td>
    </tr>
    <tr>
      <th>2</th>
      <td>b001_001</td>
      <td>3</td>
      <td>600</td>
      <td>2020-02-24 20:48:52.812</td>
      <td>2020-02-24 20:52:50.167</td>
      <td>1</td>
      <td>1.154</td>
      <td>343</td>
      <td>1</td>
      <td>no_distractor_1</td>
      <td>3</td>
    </tr>
    <tr>
      <th>3</th>
      <td>b001_001</td>
      <td>4</td>
      <td>600</td>
      <td>2020-02-24 20:48:52.812</td>
      <td>2020-02-24 20:52:50.167</td>
      <td>1</td>
      <td>2.004</td>
      <td>463</td>
      <td>0</td>
      <td>no_distractor_2</td>
      <td>3</td>
    </tr>
    <tr>
      <th>4</th>
      <td>b001_001</td>
      <td>5</td>
      <td>600</td>
      <td>2020-02-24 20:48:52.812</td>
      <td>2020-02-24 20:52:50.167</td>
      <td>1</td>
      <td>1.589</td>
      <td>616</td>
      <td>3</td>
      <td>no_distractor_1</td>
      <td>4</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>82226</th>
      <td>m271_010</td>
      <td>28</td>
      <td>533</td>
      <td>2021-07-21 10:25:34.373</td>
      <td>2021-07-21 10:29:45.451</td>
      <td>0</td>
      <td>0.613</td>
      <td>1646</td>
      <td>1</td>
      <td>delayed_distractor</td>
      <td>7</td>
    </tr>
    <tr>
      <th>82227</th>
      <td>m271_010</td>
      <td>29</td>
      <td>533</td>
      <td>2021-07-21 10:25:34.373</td>
      <td>2021-07-21 10:29:45.451</td>
      <td>0</td>
      <td>2.297</td>
      <td>2499</td>
      <td>0</td>
      <td>encoding_distractor</td>
      <td>10</td>
    </tr>
    <tr>
      <th>82228</th>
      <td>m271_010</td>
      <td>30</td>
      <td>533</td>
      <td>2021-07-21 10:25:34.373</td>
      <td>2021-07-21 10:29:45.451</td>
      <td>0</td>
      <td>2.573</td>
      <td>1644</td>
      <td>3</td>
      <td>delayed_distractor</td>
      <td>7</td>
    </tr>
    <tr>
      <th>82229</th>
      <td>m271_010</td>
      <td>31</td>
      <td>533</td>
      <td>2021-07-21 10:25:34.373</td>
      <td>2021-07-21 10:29:45.451</td>
      <td>1</td>
      <td>3.638</td>
      <td>2586</td>
      <td>2</td>
      <td>no_distractor_2</td>
      <td>10</td>
    </tr>
    <tr>
      <th>82230</th>
      <td>m271_010</td>
      <td>32</td>
      <td>533</td>
      <td>2021-07-21 10:25:34.373</td>
      <td>2021-07-21 10:29:45.451</td>
      <td>1</td>
      <td>4.089</td>
      <td>2146</td>
      <td>0</td>
      <td>no_distractor_1</td>
      <td>9</td>
    </tr>
  </tbody>
</table>
<p>82231 rows × 11 columns</p>
</div>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Filters">Filters<a class="anchor-link" href="#Filters"> </a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Sessions-that-were-completed-with-old-version-of-the-task">Sessions that were completed with old version of the task<a class="anchor-link" href="#Sessions-that-were-completed-with-old-version-of-the-task"> </a></h3><p>These sessions were completed with an old version of the task, due an experimenter error.  The experimenter used the wrong link to install the GBE app, when setting up participant's phones.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="WMDataProvider.filter_old_app_sessions" class="doc_header"><code>WMDataProvider.filter_old_app_sessions</code><a href="https://github.com/hgzech/trr265/tree/master/trr265/gbe/wm/data_provider.py#L103" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>WMDataProvider.filter_old_app_sessions</code>(<strong><code>df</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">test</span> <span class="o">=</span> <span class="n">dp</span><span class="o">.</span><span class="n">filter_old_app_sessions</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
<span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">test</span><span class="p">[</span><span class="n">test</span><span class="o">.</span><span class="n">trial_type</span><span class="o">.</span><span class="n">isin</span><span class="p">([</span><span class="s1">&#39;4&#39;</span><span class="p">,</span><span class="s1">&#39;5&#39;</span><span class="p">])])</span> <span class="o">==</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;Did not succeed filtering old app sessions.&quot;</span> 
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>9 participants used an old version of the task in some of their sessions.  32 sessions (1.23%) are removed from the dataset.
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Sessions-with-level-two-failures">Sessions with level two failures<a class="anchor-link" href="#Sessions-with-level-two-failures"> </a></h3><p>"Data were excluded from participants who failed a “load 2” trial in any condition." (McNab, 2015, p. 6515)</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="WMDataProvider.filter_level_two_failures" class="doc_header"><code>WMDataProvider.filter_level_two_failures</code><a href="https://github.com/hgzech/trr265/tree/master/trr265/gbe/wm/data_provider.py#L114" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>WMDataProvider.filter_level_two_failures</code>(<strong><code>df</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">dp</span><span class="o">.</span><span class="n">filter_level_two_failures</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>28 sessions (1.07%) are removed because participants failed a level two trial.
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Checks">Checks<a class="anchor-link" href="#Checks"> </a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Visual-check">Visual check<a class="anchor-link" href="#Visual-check"> </a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Here we show a screen capture of the working memory task with the associated data below.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">Video</span><span class="p">(</span><span class="s2">&quot;images/wm_task_video.webm&quot;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">200</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<video src="images/wm_task_video.webm" controls  width="200" >
      Your browser does not support the <code>video</code> element.
    </video>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">test</span> <span class="o">=</span> <span class="n">dp</span><span class="o">.</span><span class="n">decode_gbe_strings</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">dp</span><span class="o">.</span><span class="n">raw</span><span class="p">,</span><span class="s1">&#39;mov_data_test.csv&#39;</span><span class="p">),</span> <span class="n">sep</span> <span class="o">=</span> <span class="s1">&#39;;&#39;</span><span class="p">),</span><span class="s1">&#39;WorkingMemoryGame&#39;</span><span class="p">)</span>
<span class="n">show</span> <span class="o">=</span> <span class="n">dp</span><span class="o">.</span><span class="n">add_trial_types</span><span class="p">(</span><span class="n">test</span><span class="p">)[[</span><span class="s1">&#39;trial_type&#39;</span><span class="p">,</span><span class="s1">&#39;level&#39;</span><span class="p">,</span><span class="s1">&#39;success&#39;</span><span class="p">]]</span>
<span class="n">show</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>trial_type</th>
      <th>level</th>
      <th>success</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>delayed_distractor</td>
      <td>3</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1</th>
      <td>no_distractor_1</td>
      <td>3</td>
      <td>1</td>
    </tr>
    <tr>
      <th>2</th>
      <td>encoding_distractor</td>
      <td>3</td>
      <td>1</td>
    </tr>
    <tr>
      <th>3</th>
      <td>no_distractor_2</td>
      <td>3</td>
      <td>1</td>
    </tr>
    <tr>
      <th>4</th>
      <td>encoding_distractor</td>
      <td>4</td>
      <td>1</td>
    </tr>
    <tr>
      <th>5</th>
      <td>no_distractor_1</td>
      <td>4</td>
      <td>0</td>
    </tr>
    <tr>
      <th>6</th>
      <td>delayed_distractor</td>
      <td>4</td>
      <td>1</td>
    </tr>
    <tr>
      <th>7</th>
      <td>no_distractor_2</td>
      <td>4</td>
      <td>1</td>
    </tr>
    <tr>
      <th>8</th>
      <td>encoding_distractor</td>
      <td>5</td>
      <td>1</td>
    </tr>
    <tr>
      <th>9</th>
      <td>no_distractor_1</td>
      <td>4</td>
      <td>1</td>
    </tr>
    <tr>
      <th>10</th>
      <td>delayed_distractor</td>
      <td>5</td>
      <td>1</td>
    </tr>
    <tr>
      <th>11</th>
      <td>no_distractor_2</td>
      <td>5</td>
      <td>1</td>
    </tr>
    <tr>
      <th>12</th>
      <td>no_distractor_1</td>
      <td>5</td>
      <td>1</td>
    </tr>
    <tr>
      <th>13</th>
      <td>encoding_distractor</td>
      <td>6</td>
      <td>1</td>
    </tr>
    <tr>
      <th>14</th>
      <td>delayed_distractor</td>
      <td>6</td>
      <td>1</td>
    </tr>
    <tr>
      <th>15</th>
      <td>no_distractor_2</td>
      <td>6</td>
      <td>1</td>
    </tr>
    <tr>
      <th>16</th>
      <td>delayed_distractor</td>
      <td>7</td>
      <td>1</td>
    </tr>
    <tr>
      <th>17</th>
      <td>no_distractor_2</td>
      <td>7</td>
      <td>1</td>
    </tr>
    <tr>
      <th>18</th>
      <td>encoding_distractor</td>
      <td>7</td>
      <td>1</td>
    </tr>
    <tr>
      <th>19</th>
      <td>no_distractor_1</td>
      <td>6</td>
      <td>1</td>
    </tr>
    <tr>
      <th>20</th>
      <td>no_distractor_2</td>
      <td>8</td>
      <td>1</td>
    </tr>
    <tr>
      <th>21</th>
      <td>no_distractor_1</td>
      <td>7</td>
      <td>1</td>
    </tr>
    <tr>
      <th>22</th>
      <td>encoding_distractor</td>
      <td>8</td>
      <td>1</td>
    </tr>
    <tr>
      <th>23</th>
      <td>delayed_distractor</td>
      <td>8</td>
      <td>1</td>
    </tr>
    <tr>
      <th>24</th>
      <td>encoding_distractor</td>
      <td>9</td>
      <td>1</td>
    </tr>
    <tr>
      <th>25</th>
      <td>delayed_distractor</td>
      <td>9</td>
      <td>1</td>
    </tr>
    <tr>
      <th>26</th>
      <td>no_distractor_2</td>
      <td>9</td>
      <td>1</td>
    </tr>
    <tr>
      <th>27</th>
      <td>no_distractor_1</td>
      <td>8</td>
      <td>1</td>
    </tr>
    <tr>
      <th>28</th>
      <td>no_distractor_1</td>
      <td>9</td>
      <td>1</td>
    </tr>
    <tr>
      <th>29</th>
      <td>encoding_distractor</td>
      <td>10</td>
      <td>1</td>
    </tr>
    <tr>
      <th>30</th>
      <td>delayed_distractor</td>
      <td>10</td>
      <td>1</td>
    </tr>
    <tr>
      <th>31</th>
      <td>no_distractor_2</td>
      <td>10</td>
      <td>1</td>
    </tr>
    <tr>
      <th>32</th>
      <td>encoding_distractor</td>
      <td>3</td>
      <td>0</td>
    </tr>
    <tr>
      <th>33</th>
      <td>no_distractor_2</td>
      <td>3</td>
      <td>0</td>
    </tr>
    <tr>
      <th>34</th>
      <td>delayed_distractor</td>
      <td>3</td>
      <td>0</td>
    </tr>
    <tr>
      <th>35</th>
      <td>no_distractor_1</td>
      <td>3</td>
      <td>0</td>
    </tr>
    <tr>
      <th>36</th>
      <td>encoding_distractor</td>
      <td>2</td>
      <td>0</td>
    </tr>
    <tr>
      <th>37</th>
      <td>no_distractor_2</td>
      <td>2</td>
      <td>0</td>
    </tr>
    <tr>
      <th>38</th>
      <td>delayed_distractor</td>
      <td>2</td>
      <td>0</td>
    </tr>
    <tr>
      <th>39</th>
      <td>no_distractor_1</td>
      <td>2</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

</div>
 

